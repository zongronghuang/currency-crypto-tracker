commit_message="$(cat $1)"
message_header_pattern="^(feat:|fix:|docs:|style:|refactor:|perf:|test:|build:|ci:|chore:|revert:|Merge) .*$"

echo "➡️  $commit_message" 

# commit 訊息使用符合的標頭
if ! [[ $commit_message =~ $message_header_pattern ]];
then
  echo ""
  echo "⚠️  Invalid message! Consider the following:"
  echo "*️⃣  feat: (new feature for the user, not a new feature for build script)"
  echo "*️⃣  fix: (bug fix for the user, not a fix to a build script)"
  echo "*️⃣  docs: (changes to the documentation)"
  echo "*️⃣  style: (formatting, missing semi colons, etc; no production code change)"
  echo "*️⃣  refactor: (refactoring production code, eg. renaming a variable)"
  echo "*️⃣  test: (adding missing tests, refactoring tests; no production code change)"
  echo "*️⃣  perf: (adjusting performance; no functionality change)"
  echo "*️⃣  build: (adding/removing packages; change build settings)"
  echo "*️⃣  chore: (updating packages; updating grunt tasks etc; no production code change)"
  echo "*️⃣  revert: (reverting previous commits)"
  echo "*️⃣  ci: (changes to continuous integration configuration)"
  echo "*️⃣  Merge: (auto-generated by git merges)"
  echo ""
  exit 1
fi

# commit 訊息至少 20 個字元長度
if [ ${#commit_message} -lt 20 ];
then
  echo ""
  echo "⚠️  Message at least 20 characters!"
  echo ""
  exit 1
fi

echo "✅  [COMMIT MESSAGE READY]"
echo ""