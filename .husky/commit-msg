commit_message="$(cat $1)"
message_header_pattern="^(feat:|fix:|docs:|style:|refactor:|perf:|test:|build:|ci:|chore:|revert:|Merge) .*$"
message_headers="\n
feat: (new feature for the user, not a new feature for build script) \n
fix: (bug fix for the user, not a fix to a build script) \n
docs: (changes to the documentation) \n
style: (formatting, missing semi colons, etc; no production code change) \n
refactor: (refactoring production code, eg. renaming a variable) \n
test: (adding missing tests, refactoring tests; no production code change) \n
perf: (adjusting performance; no functionality change) \n
build: (adding/removing packages; change build settings) \n
chore: (updating packages; updating grunt tasks etc; no production code change) \n
revert: (reverting previous commits) \n
ci: (changes to continuous integration configuration) \n
Merge: (auto-generated by git merges)
"

echo "Your commit message: $commit_message" 

# commit 訊息使用符合的標頭
if ! [[ $commit_message =~ $message_header_pattern ]];
then
  echo "Invalid message! Consider the following:"
  echo -e $message_headers
  exit 1
fi

# commit 訊息至少 20 個字元長度
if [ ${#commit_message} -lt 20 ];
then
  echo "Message too short!"
  exit 1
fi

echo "[COMMIT MESSAGE READY]"